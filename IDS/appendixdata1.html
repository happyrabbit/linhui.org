<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>B.1 Customer Data for Clothing Company | Introduction to Data Science</title>
  <meta name="description" content="B.1 Customer Data for Clothing Company | Introduction to Data Science" />
  <meta name="generator" content="bookdown 0.24 and GitBook 2.6.7" />

  <meta property="og:title" content="B.1 Customer Data for Clothing Company | Introduction to Data Science" />
  <meta property="og:type" content="book" />
  <meta property="og:url" content="http://scientistcafe.com/IDS/" />
  
  <meta property="og:description" content="B.1 Customer Data for Clothing Company | Introduction to Data Science" />
  <meta name="github-repo" content="happyrabbit/IntroDataScience" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="B.1 Customer Data for Clothing Company | Introduction to Data Science" />
  
  <meta name="twitter:description" content="B.1 Customer Data for Clothing Company | Introduction to Data Science" />
  

<meta name="author" content="Hui Lin and Ming Li" />


<meta name="date" content="2023-02-15" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="r-code-for-data-simulation.html"/>
<link rel="next" href="appendixdata3.html"/>
<script src="libs/header-attrs/header-attrs.js"></script>
<script src="libs/jquery/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook/css/style.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="css/style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="http://scientistcafe.com">Homepage</a></li>

<li class="divider"></li>
<li><a href="index.html#preface">Preface<span></span></a>
<ul>
<li><a href="goal-of-the-book.html#goal-of-the-book">Goal of the Book<span></span></a></li>
<li><a href="what-this-book-covers.html#what-this-book-covers">What This Book Covers<span></span></a></li>
<li><a href="who-this-book-is-for.html#who-this-book-is-for">Who This Book Is For<span></span></a></li>
<li><a href="how-to-use-this-book.html#how-to-use-this-book">How to Use This Book<span></span></a>
<ul>
<li><a href="how-to-use-this-book.html#what-the-book-assumes">What the Book Assumes<span></span></a></li>
<li><a href="how-to-use-this-book.html#how-to-run-r-and-python-code">How to Run R and Python Code<span></span></a></li>
</ul></li>
<li><a href="complementary-reading.html#complementary-reading">Complementary Reading<span></span></a></li>
</ul></li>
<li><a href="about-the-authors.html#about-the-authors">About the Authors<span></span></a></li>
<li class="chapter" data-level="1" data-path="introduction.html"><a href="introduction.html"><i class="fa fa-check"></i><b>1</b> Introduction<span></span></a>
<ul>
<li class="chapter" data-level="1.1" data-path="a-brief-history-of-data-science.html"><a href="a-brief-history-of-data-science.html"><i class="fa fa-check"></i><b>1.1</b> A brief history of data science<span></span></a></li>
<li class="chapter" data-level="1.2" data-path="data-science-role-and-skill-tracks.html"><a href="data-science-role-and-skill-tracks.html"><i class="fa fa-check"></i><b>1.2</b> Data science role and skill tracks<span></span></a>
<ul>
<li class="chapter" data-level="1.2.1" data-path="data-science-role-and-skill-tracks.html"><a href="data-science-role-and-skill-tracks.html#engineering"><i class="fa fa-check"></i><b>1.2.1</b> Engineering<span></span></a></li>
<li class="chapter" data-level="1.2.2" data-path="data-science-role-and-skill-tracks.html"><a href="data-science-role-and-skill-tracks.html#analysis"><i class="fa fa-check"></i><b>1.2.2</b> Analysis<span></span></a></li>
<li class="chapter" data-level="1.2.3" data-path="data-science-role-and-skill-tracks.html"><a href="data-science-role-and-skill-tracks.html#modelinginference"><i class="fa fa-check"></i><b>1.2.3</b> Modeling/inference<span></span></a></li>
</ul></li>
<li class="chapter" data-level="1.3" data-path="what-kind-of-questions-can-data-science-solve.html"><a href="what-kind-of-questions-can-data-science-solve.html"><i class="fa fa-check"></i><b>1.3</b> What kind of questions can data science solve?<span></span></a>
<ul>
<li class="chapter" data-level="1.3.1" data-path="what-kind-of-questions-can-data-science-solve.html"><a href="what-kind-of-questions-can-data-science-solve.html#prerequisites"><i class="fa fa-check"></i><b>1.3.1</b> Prerequisites<span></span></a></li>
<li class="chapter" data-level="1.3.2" data-path="what-kind-of-questions-can-data-science-solve.html"><a href="what-kind-of-questions-can-data-science-solve.html#problem-type"><i class="fa fa-check"></i><b>1.3.2</b> Problem type<span></span></a></li>
</ul></li>
<li class="chapter" data-level="1.4" data-path="structure-of-data-science-team.html"><a href="structure-of-data-science-team.html"><i class="fa fa-check"></i><b>1.4</b> Structure of data science team<span></span></a></li>
<li class="chapter" data-level="1.5" data-path="data-science-roles.html"><a href="data-science-roles.html"><i class="fa fa-check"></i><b>1.5</b> Data science roles<span></span></a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="SoftSkillsforDataScientists.html"><a href="SoftSkillsforDataScientists.html"><i class="fa fa-check"></i><b>2</b> Soft Skills for Data Scientists<span></span></a>
<ul>
<li class="chapter" data-level="2.1" data-path="comparison-between-statistician-and-data-scientist.html"><a href="comparison-between-statistician-and-data-scientist.html"><i class="fa fa-check"></i><b>2.1</b> Comparison between Statistician and Data Scientist<span></span></a></li>
<li class="chapter" data-level="2.2" data-path="beyond-data-and-analytics.html"><a href="beyond-data-and-analytics.html"><i class="fa fa-check"></i><b>2.2</b> Beyond Data and Analytics<span></span></a></li>
<li class="chapter" data-level="2.3" data-path="three-pillars-of-knowledge.html"><a href="three-pillars-of-knowledge.html"><i class="fa fa-check"></i><b>2.3</b> Three Pillars of Knowledge<span></span></a></li>
<li class="chapter" data-level="2.4" data-path="data-science-project-cycle.html"><a href="data-science-project-cycle.html"><i class="fa fa-check"></i><b>2.4</b> Data Science Project Cycle<span></span></a>
<ul>
<li class="chapter" data-level="2.4.1" data-path="data-science-project-cycle.html"><a href="data-science-project-cycle.html#types-of-data-science-projects"><i class="fa fa-check"></i><b>2.4.1</b> Types of Data Science Projects<span></span></a></li>
<li class="chapter" data-level="2.4.2" data-path="data-science-project-cycle.html"><a href="data-science-project-cycle.html#ProblemFormulationandProjectPlanningStage"><i class="fa fa-check"></i><b>2.4.2</b> Problem Formulation and Project Planning Stage<span></span></a></li>
<li class="chapter" data-level="2.4.3" data-path="data-science-project-cycle.html"><a href="data-science-project-cycle.html#project-modeling-stage"><i class="fa fa-check"></i><b>2.4.3</b> Project Modeling Stage<span></span></a></li>
<li class="chapter" data-level="2.4.4" data-path="data-science-project-cycle.html"><a href="data-science-project-cycle.html#ModelImplementationandPostProductionStage"><i class="fa fa-check"></i><b>2.4.4</b> Model Implementation and Post Production Stage<span></span></a></li>
<li class="chapter" data-level="2.4.5" data-path="data-science-project-cycle.html"><a href="data-science-project-cycle.html#ProjectCycleSummary"><i class="fa fa-check"></i><b>2.4.5</b> Project Cycle Summary<span></span></a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="common-mistakes-in-data-science.html"><a href="common-mistakes-in-data-science.html"><i class="fa fa-check"></i><b>2.5</b> Common Mistakes in Data Science<span></span></a>
<ul>
<li class="chapter" data-level="2.5.1" data-path="common-mistakes-in-data-science.html"><a href="common-mistakes-in-data-science.html#problem-formulation-stage"><i class="fa fa-check"></i><b>2.5.1</b> Problem Formulation Stage<span></span></a></li>
<li class="chapter" data-level="2.5.2" data-path="common-mistakes-in-data-science.html"><a href="common-mistakes-in-data-science.html#project-planning-stage"><i class="fa fa-check"></i><b>2.5.2</b> Project Planning Stage<span></span></a></li>
<li class="chapter" data-level="2.5.3" data-path="common-mistakes-in-data-science.html"><a href="common-mistakes-in-data-science.html#project-modeling-stage-1"><i class="fa fa-check"></i><b>2.5.3</b> Project Modeling Stage<span></span></a></li>
<li class="chapter" data-level="2.5.4" data-path="common-mistakes-in-data-science.html"><a href="common-mistakes-in-data-science.html#model-implementation-and-post-production-stage"><i class="fa fa-check"></i><b>2.5.4</b> Model Implementation and Post Production Stage<span></span></a></li>
<li class="chapter" data-level="2.5.5" data-path="common-mistakes-in-data-science.html"><a href="common-mistakes-in-data-science.html#summary-of-common-mistakes"><i class="fa fa-check"></i><b>2.5.5</b> Summary of Common Mistakes<span></span></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="introduction-to-the-data.html"><a href="introduction-to-the-data.html"><i class="fa fa-check"></i><b>3</b> Introduction to The Data<span></span></a>
<ul>
<li class="chapter" data-level="3.1" data-path="customer-data-for-a-clothing-company.html"><a href="customer-data-for-a-clothing-company.html"><i class="fa fa-check"></i><b>3.1</b> Customer Data for A Clothing Company<span></span></a></li>
<li class="chapter" data-level="3.2" data-path="swinediseasedata.html"><a href="swinediseasedata.html"><i class="fa fa-check"></i><b>3.2</b> Swine Disease Breakout Data<span></span></a></li>
<li class="chapter" data-level="3.3" data-path="mnist-dataset.html"><a href="mnist-dataset.html"><i class="fa fa-check"></i><b>3.3</b> MNIST Dataset<span></span></a></li>
<li class="chapter" data-level="3.4" data-path="imdb-dataset.html"><a href="imdb-dataset.html"><i class="fa fa-check"></i><b>3.4</b> IMDB Dataset<span></span></a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="bigdatacloudplatform.html"><a href="bigdatacloudplatform.html"><i class="fa fa-check"></i><b>4</b> Big Data Cloud Platform<span></span></a>
<ul>
<li class="chapter" data-level="4.1" data-path="power-of-cluster-of-computers.html"><a href="power-of-cluster-of-computers.html"><i class="fa fa-check"></i><b>4.1</b> Power of Cluster of Computers<span></span></a></li>
<li class="chapter" data-level="4.2" data-path="evolution-of-cluster-computing.html"><a href="evolution-of-cluster-computing.html"><i class="fa fa-check"></i><b>4.2</b> Evolution of Cluster Computing<span></span></a>
<ul>
<li class="chapter" data-level="4.2.1" data-path="evolution-of-cluster-computing.html"><a href="evolution-of-cluster-computing.html#hadoop"><i class="fa fa-check"></i><b>4.2.1</b> Hadoop<span></span></a></li>
<li class="chapter" data-level="4.2.2" data-path="evolution-of-cluster-computing.html"><a href="evolution-of-cluster-computing.html#spark"><i class="fa fa-check"></i><b>4.2.2</b> Spark<span></span></a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="CloudEnvironment.html"><a href="CloudEnvironment.html"><i class="fa fa-check"></i><b>4.3</b> Introduction of Cloud Environment<span></span></a>
<ul>
<li class="chapter" data-level="4.3.1" data-path="CloudEnvironment.html"><a href="CloudEnvironment.html#open-account-and-create-a-cluster"><i class="fa fa-check"></i><b>4.3.1</b> Open Account and Create a Cluster<span></span></a></li>
<li class="chapter" data-level="4.3.2" data-path="CloudEnvironment.html"><a href="CloudEnvironment.html#r-notebook"><i class="fa fa-check"></i><b>4.3.2</b> R Notebook<span></span></a></li>
<li class="chapter" data-level="4.3.3" data-path="CloudEnvironment.html"><a href="CloudEnvironment.html#markdown-cells"><i class="fa fa-check"></i><b>4.3.3</b> Markdown Cells<span></span></a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="leveragesparkr.html"><a href="leveragesparkr.html"><i class="fa fa-check"></i><b>4.4</b> Leverage Spark Using R Notebook<span></span></a></li>
<li class="chapter" data-level="4.5" data-path="databases-and-sql.html"><a href="databases-and-sql.html"><i class="fa fa-check"></i><b>4.5</b> Databases and SQL<span></span></a>
<ul>
<li class="chapter" data-level="4.5.1" data-path="databases-and-sql.html"><a href="databases-and-sql.html#history"><i class="fa fa-check"></i><b>4.5.1</b> History<span></span></a></li>
<li class="chapter" data-level="4.5.2" data-path="databases-and-sql.html"><a href="databases-and-sql.html#database-table-and-view"><i class="fa fa-check"></i><b>4.5.2</b> Database, Table and View<span></span></a></li>
<li class="chapter" data-level="4.5.3" data-path="databases-and-sql.html"><a href="databases-and-sql.html#basic-sql-statement"><i class="fa fa-check"></i><b>4.5.3</b> Basic SQL Statement<span></span></a></li>
<li class="chapter" data-level="4.5.4" data-path="databases-and-sql.html"><a href="databases-and-sql.html#advanced-topics-in-database"><i class="fa fa-check"></i><b>4.5.4</b> Advanced Topics in Database<span></span></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="datapreprocessing.html"><a href="datapreprocessing.html"><i class="fa fa-check"></i><b>5</b> Data Pre-processing<span></span></a>
<ul>
<li class="chapter" data-level="5.1" data-path="data-cleaning.html"><a href="data-cleaning.html"><i class="fa fa-check"></i><b>5.1</b> Data Cleaning<span></span></a></li>
<li class="chapter" data-level="5.2" data-path="missing-values.html"><a href="missing-values.html"><i class="fa fa-check"></i><b>5.2</b> Missing Values<span></span></a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="missing-values.html"><a href="missing-values.html#impute-missing-values-with-medianmode"><i class="fa fa-check"></i><b>5.2.1</b> Impute missing values with median/mode<span></span></a></li>
<li class="chapter" data-level="5.2.2" data-path="missing-values.html"><a href="missing-values.html#k-nearest-neighbors"><i class="fa fa-check"></i><b>5.2.2</b> K-nearest neighbors<span></span></a></li>
<li class="chapter" data-level="5.2.3" data-path="missing-values.html"><a href="missing-values.html#bagging-tree"><i class="fa fa-check"></i><b>5.2.3</b> Bagging Tree<span></span></a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="centering-and-scaling.html"><a href="centering-and-scaling.html"><i class="fa fa-check"></i><b>5.3</b> Centering and Scaling<span></span></a></li>
<li class="chapter" data-level="5.4" data-path="resolve-skewness.html"><a href="resolve-skewness.html"><i class="fa fa-check"></i><b>5.4</b> Resolve Skewness<span></span></a></li>
<li class="chapter" data-level="5.5" data-path="outliers.html"><a href="outliers.html"><i class="fa fa-check"></i><b>5.5</b> Resolve Outliers<span></span></a></li>
<li class="chapter" data-level="5.6" data-path="collinearity.html"><a href="collinearity.html"><i class="fa fa-check"></i><b>5.6</b> Collinearity<span></span></a></li>
<li class="chapter" data-level="5.7" data-path="sparse-variables.html"><a href="sparse-variables.html"><i class="fa fa-check"></i><b>5.7</b> Sparse Variables<span></span></a></li>
<li class="chapter" data-level="5.8" data-path="re-encode-dummy-variables.html"><a href="re-encode-dummy-variables.html"><i class="fa fa-check"></i><b>5.8</b> Re-encode Dummy Variables<span></span></a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="datawrangline.html"><a href="datawrangline.html"><i class="fa fa-check"></i><b>6</b> Data Wrangling<span></span></a>
<ul>
<li class="chapter" data-level="6.1" data-path="summarize-data.html"><a href="summarize-data.html"><i class="fa fa-check"></i><b>6.1</b> Summarize Data<span></span></a>
<ul>
<li class="chapter" data-level="6.1.1" data-path="summarize-data.html"><a href="summarize-data.html#dplyr-package"><i class="fa fa-check"></i><b>6.1.1</b> <code>dplyr</code> package<span></span></a></li>
<li class="chapter" data-level="6.1.2" data-path="summarize-data.html"><a href="summarize-data.html#applyfamilyinbaser"><i class="fa fa-check"></i><b>6.1.2</b> <code>apply()</code>, <code>lapply()</code> and <code>sapply()</code> in base R<span></span></a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="tidy-and-reshape-data.html"><a href="tidy-and-reshape-data.html"><i class="fa fa-check"></i><b>6.2</b> Tidy and Reshape Data<span></span></a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="modeltuningstrategy.html"><a href="modeltuningstrategy.html"><i class="fa fa-check"></i><b>7</b> Model Tuning Strategy<span></span></a>
<ul>
<li class="chapter" data-level="7.1" data-path="vbtradeoff.html"><a href="vbtradeoff.html"><i class="fa fa-check"></i><b>7.1</b> Variance-Bias Trade-Off<span></span></a></li>
<li class="chapter" data-level="7.2" data-path="datasplittingresampling.html"><a href="datasplittingresampling.html"><i class="fa fa-check"></i><b>7.2</b> Data Splitting and Resampling<span></span></a>
<ul>
<li class="chapter" data-level="7.2.1" data-path="datasplittingresampling.html"><a href="datasplittingresampling.html#datasplitting"><i class="fa fa-check"></i><b>7.2.1</b> Data Splitting<span></span></a></li>
<li class="chapter" data-level="7.2.2" data-path="datasplittingresampling.html"><a href="datasplittingresampling.html#resampling"><i class="fa fa-check"></i><b>7.2.2</b> Resampling<span></span></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="measuring-performance.html"><a href="measuring-performance.html"><i class="fa fa-check"></i><b>8</b> Measuring Performance<span></span></a>
<ul>
<li class="chapter" data-level="8.1" data-path="regression-model-performance.html"><a href="regression-model-performance.html"><i class="fa fa-check"></i><b>8.1</b> Regression Model Performance<span></span></a></li>
<li class="chapter" data-level="8.2" data-path="classification-model-performance.html"><a href="classification-model-performance.html"><i class="fa fa-check"></i><b>8.2</b> Classification Model Performance<span></span></a>
<ul>
<li class="chapter" data-level="8.2.1" data-path="classification-model-performance.html"><a href="classification-model-performance.html#confusion-matrix"><i class="fa fa-check"></i><b>8.2.1</b> Confusion Matrix<span></span></a></li>
<li class="chapter" data-level="8.2.2" data-path="classification-model-performance.html"><a href="classification-model-performance.html#kappa-statistic"><i class="fa fa-check"></i><b>8.2.2</b> Kappa Statistic<span></span></a></li>
<li class="chapter" data-level="8.2.3" data-path="classification-model-performance.html"><a href="classification-model-performance.html#roc"><i class="fa fa-check"></i><b>8.2.3</b> ROC<span></span></a></li>
<li class="chapter" data-level="8.2.4" data-path="classification-model-performance.html"><a href="classification-model-performance.html#gain-and-lift-charts"><i class="fa fa-check"></i><b>8.2.4</b> Gain and Lift Charts<span></span></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="9" data-path="regression-models.html"><a href="regression-models.html"><i class="fa fa-check"></i><b>9</b> Regression Models<span></span></a>
<ul>
<li class="chapter" data-level="9.1" data-path="ordinary-least-square.html"><a href="ordinary-least-square.html"><i class="fa fa-check"></i><b>9.1</b> Ordinary Least Square<span></span></a>
<ul>
<li class="chapter" data-level="9.1.1" data-path="ordinary-least-square.html"><a href="ordinary-least-square.html#the-magic-p-value"><i class="fa fa-check"></i><b>9.1.1</b> The Magic P-value<span></span></a></li>
<li class="chapter" data-level="9.1.2" data-path="ordinary-least-square.html"><a href="ordinary-least-square.html#diagnostics-for-linear-regression"><i class="fa fa-check"></i><b>9.1.2</b> Diagnostics for Linear Regression<span></span></a></li>
</ul></li>
<li class="chapter" data-level="9.2" data-path="principal-component-regression-and-partial-least-square.html"><a href="principal-component-regression-and-partial-least-square.html"><i class="fa fa-check"></i><b>9.2</b> Principal Component Regression and Partial Least Square<span></span></a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="regularization-methods.html"><a href="regularization-methods.html"><i class="fa fa-check"></i><b>10</b> Regularization Methods<span></span></a>
<ul>
<li class="chapter" data-level="10.1" data-path="ridge-regression.html"><a href="ridge-regression.html"><i class="fa fa-check"></i><b>10.1</b> Ridge Regression<span></span></a></li>
<li class="chapter" data-level="10.2" data-path="lasso.html"><a href="lasso.html"><i class="fa fa-check"></i><b>10.2</b> LASSO<span></span></a></li>
<li class="chapter" data-level="10.3" data-path="elastic-net.html"><a href="elastic-net.html"><i class="fa fa-check"></i><b>10.3</b> Elastic Net<span></span></a></li>
<li class="chapter" data-level="10.4" data-path="penalized-generalized-linear-model.html"><a href="penalized-generalized-linear-model.html"><i class="fa fa-check"></i><b>10.4</b> Penalized Generalized Linear Model<span></span></a>
<ul>
<li class="chapter" data-level="10.4.1" data-path="penalized-generalized-linear-model.html"><a href="penalized-generalized-linear-model.html#introduction-to-glmnet-package"><i class="fa fa-check"></i><b>10.4.1</b> Introduction to <code>glmnet</code> package<span></span></a></li>
<li class="chapter" data-level="10.4.2" data-path="penalized-generalized-linear-model.html"><a href="penalized-generalized-linear-model.html#penalized-logistic-regression"><i class="fa fa-check"></i><b>10.4.2</b> Penalized logistic regression<span></span></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="11" data-path="treemodel.html"><a href="treemodel.html"><i class="fa fa-check"></i><b>11</b> Tree-Based Methods<span></span></a>
<ul>
<li class="chapter" data-level="11.1" data-path="tree-basics.html"><a href="tree-basics.html"><i class="fa fa-check"></i><b>11.1</b> Tree Basics<span></span></a></li>
<li class="chapter" data-level="11.2" data-path="splitting-criteria.html"><a href="splitting-criteria.html"><i class="fa fa-check"></i><b>11.2</b> Splitting Criteria<span></span></a>
<ul>
<li class="chapter" data-level="11.2.1" data-path="splitting-criteria.html"><a href="splitting-criteria.html#gini-impurity"><i class="fa fa-check"></i><b>11.2.1</b> Gini impurity<span></span></a></li>
<li class="chapter" data-level="11.2.2" data-path="splitting-criteria.html"><a href="splitting-criteria.html#information-gain-ig"><i class="fa fa-check"></i><b>11.2.2</b> Information Gain (IG)<span></span></a></li>
<li class="chapter" data-level="11.2.3" data-path="splitting-criteria.html"><a href="splitting-criteria.html#information-gain-ratio-igr"><i class="fa fa-check"></i><b>11.2.3</b> Information Gain Ratio (IGR)<span></span></a></li>
<li class="chapter" data-level="11.2.4" data-path="splitting-criteria.html"><a href="splitting-criteria.html#sum-of-squared-error-sse"><i class="fa fa-check"></i><b>11.2.4</b> Sum of Squared Error (SSE)<span></span></a></li>
</ul></li>
<li class="chapter" data-level="11.3" data-path="tree-pruning.html"><a href="tree-pruning.html"><i class="fa fa-check"></i><b>11.3</b> Tree Pruning<span></span></a></li>
<li class="chapter" data-level="11.4" data-path="regression-and-decision-tree-basic.html"><a href="regression-and-decision-tree-basic.html"><i class="fa fa-check"></i><b>11.4</b> Regression and Decision Tree Basic<span></span></a>
<ul>
<li class="chapter" data-level="11.4.1" data-path="regression-and-decision-tree-basic.html"><a href="regression-and-decision-tree-basic.html#regression-tree"><i class="fa fa-check"></i><b>11.4.1</b> Regression Tree<span></span></a></li>
<li class="chapter" data-level="11.4.2" data-path="regression-and-decision-tree-basic.html"><a href="regression-and-decision-tree-basic.html#decision-tree"><i class="fa fa-check"></i><b>11.4.2</b> Decision Tree<span></span></a></li>
</ul></li>
<li class="chapter" data-level="11.5" data-path="bagging-tree-1.html"><a href="bagging-tree-1.html"><i class="fa fa-check"></i><b>11.5</b> Bagging Tree<span></span></a></li>
<li class="chapter" data-level="11.6" data-path="random-forest.html"><a href="random-forest.html"><i class="fa fa-check"></i><b>11.6</b> Random Forest<span></span></a></li>
<li class="chapter" data-level="11.7" data-path="gradient-boosted-machine.html"><a href="gradient-boosted-machine.html"><i class="fa fa-check"></i><b>11.7</b> Gradient Boosted Machine<span></span></a>
<ul>
<li class="chapter" data-level="11.7.1" data-path="gradient-boosted-machine.html"><a href="gradient-boosted-machine.html#adaptive-boosting"><i class="fa fa-check"></i><b>11.7.1</b> Adaptive Boosting<span></span></a></li>
<li class="chapter" data-level="11.7.2" data-path="gradient-boosted-machine.html"><a href="gradient-boosted-machine.html#stochastic-gradient-boosting"><i class="fa fa-check"></i><b>11.7.2</b> Stochastic Gradient Boosting<span></span></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="12" data-path="deeplearning.html"><a href="deeplearning.html"><i class="fa fa-check"></i><b>12</b> Deep Learning<span></span></a>
<ul>
<li class="chapter" data-level="12.1" data-path="feedforward-neural-network.html"><a href="feedforward-neural-network.html"><i class="fa fa-check"></i><b>12.1</b> Feedforward Neural Network<span></span></a>
<ul>
<li class="chapter" data-level="12.1.1" data-path="feedforward-neural-network.html"><a href="feedforward-neural-network.html#logisticregasneuralnetwork"><i class="fa fa-check"></i><b>12.1.1</b> Logistic Regression as Neural Network<span></span></a></li>
<li class="chapter" data-level="12.1.2" data-path="feedforward-neural-network.html"><a href="feedforward-neural-network.html#stochastic-gradient-descent"><i class="fa fa-check"></i><b>12.1.2</b> Stochastic Gradient Descent<span></span></a></li>
<li class="chapter" data-level="12.1.3" data-path="feedforward-neural-network.html"><a href="feedforward-neural-network.html#deepneuralnetwork"><i class="fa fa-check"></i><b>12.1.3</b> Deep Neural Network<span></span></a></li>
<li class="chapter" data-level="12.1.4" data-path="feedforward-neural-network.html"><a href="feedforward-neural-network.html#activationfunction"><i class="fa fa-check"></i><b>12.1.4</b> Activation Function<span></span></a></li>
<li class="chapter" data-level="12.1.5" data-path="feedforward-neural-network.html"><a href="feedforward-neural-network.html#optimization"><i class="fa fa-check"></i><b>12.1.5</b> Optimization<span></span></a></li>
<li class="chapter" data-level="12.1.6" data-path="feedforward-neural-network.html"><a href="feedforward-neural-network.html#deal-with-overfitting"><i class="fa fa-check"></i><b>12.1.6</b> Deal with Overfitting<span></span></a></li>
<li class="chapter" data-level="12.1.7" data-path="feedforward-neural-network.html"><a href="feedforward-neural-network.html#ffnnexample"><i class="fa fa-check"></i><b>12.1.7</b> Image Recognition Using FFNN<span></span></a></li>
</ul></li>
<li class="chapter" data-level="12.2" data-path="convolutional-neural-network.html"><a href="convolutional-neural-network.html"><i class="fa fa-check"></i><b>12.2</b> Convolutional Neural Network<span></span></a>
<ul>
<li class="chapter" data-level="12.2.1" data-path="convolutional-neural-network.html"><a href="convolutional-neural-network.html#convolution-layer"><i class="fa fa-check"></i><b>12.2.1</b> Convolution Layer<span></span></a></li>
<li class="chapter" data-level="12.2.2" data-path="convolutional-neural-network.html"><a href="convolutional-neural-network.html#padding-layer"><i class="fa fa-check"></i><b>12.2.2</b> Padding Layer<span></span></a></li>
<li class="chapter" data-level="12.2.3" data-path="convolutional-neural-network.html"><a href="convolutional-neural-network.html#pooling-layer"><i class="fa fa-check"></i><b>12.2.3</b> Pooling Layer<span></span></a></li>
<li class="chapter" data-level="12.2.4" data-path="convolutional-neural-network.html"><a href="convolutional-neural-network.html#convolution-over-volume"><i class="fa fa-check"></i><b>12.2.4</b> Convolution Over Volume<span></span></a></li>
<li class="chapter" data-level="12.2.5" data-path="convolutional-neural-network.html"><a href="convolutional-neural-network.html#cnnexample"><i class="fa fa-check"></i><b>12.2.5</b> Image Recognition Using CNN<span></span></a></li>
</ul></li>
<li class="chapter" data-level="12.3" data-path="recurrent-neural-network.html"><a href="recurrent-neural-network.html"><i class="fa fa-check"></i><b>12.3</b> Recurrent Neural Network<span></span></a>
<ul>
<li class="chapter" data-level="12.3.1" data-path="recurrent-neural-network.html"><a href="recurrent-neural-network.html#rnn-model"><i class="fa fa-check"></i><b>12.3.1</b> RNN Model<span></span></a></li>
<li class="chapter" data-level="12.3.2" data-path="recurrent-neural-network.html"><a href="recurrent-neural-network.html#lstm"><i class="fa fa-check"></i><b>12.3.2</b> Long Short Term Memory<span></span></a></li>
<li class="chapter" data-level="12.3.3" data-path="recurrent-neural-network.html"><a href="recurrent-neural-network.html#embedding"><i class="fa fa-check"></i><b>12.3.3</b> Word Embedding<span></span></a></li>
<li class="chapter" data-level="12.3.4" data-path="recurrent-neural-network.html"><a href="recurrent-neural-network.html#rnnexample"><i class="fa fa-check"></i><b>12.3.4</b> Sentiment Analysis Using RNN<span></span></a></li>
</ul></li>
</ul></li>
<li class="appendix"><span><b>Appendix<span></span></b></span></li>
<li class="chapter" data-level="A" data-path="largelocaldata.html"><a href="largelocaldata.html"><i class="fa fa-check"></i><b>A</b> Handling Large Local Data<span></span></a>
<ul>
<li class="chapter" data-level="A.1" data-path="readr.html"><a href="readr.html"><i class="fa fa-check"></i><b>A.1</b> <code>readr</code><span></span></a></li>
<li class="chapter" data-level="A.2" data-path="data.table-enhanced-data.html"><a href="data.table-enhanced-data.html"><i class="fa fa-check"></i><b>A.2</b> <code>data.table</code>— enhanced <code>data.frame</code><span></span></a></li>
</ul></li>
<li class="chapter" data-level="B" data-path="r-code-for-data-simulation.html"><a href="r-code-for-data-simulation.html"><i class="fa fa-check"></i><b>B</b> R code for data simulation<span></span></a>
<ul>
<li class="chapter" data-level="B.1" data-path="appendixdata1.html"><a href="appendixdata1.html"><i class="fa fa-check"></i><b>B.1</b> Customer Data for Clothing Company<span></span></a></li>
<li class="chapter" data-level="B.2" data-path="appendixdata3.html"><a href="appendixdata3.html"><i class="fa fa-check"></i><b>B.2</b> Swine Disease Breakout Data<span></span></a></li>
</ul></li>
<li><a href="references.html#references">References<span></span></a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Introduction to Data Science</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="appendixdata1" class="section level2 hasAnchor" number="14.1">
<h2><span class="header-section-number">B.1</span> Customer Data for Clothing Company<a href="appendixdata1.html#appendixdata1" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>The simulation is not very straightforward and we will break it into three parts:</p>
<ol style="list-style-type: decimal">
<li>Define data structure: variable names, variable distribution, customer segment names, segment size</li>
<li>Variable distribution parameters: mean and variance</li>
<li>Iterate across segments and variables. Simulate data according to specific parameters assigned</li>
</ol>
<p>By organizing code this way, it makes easy for us to change specific parts of the simulation. For example, if we want to change the distribution of one variable, we can just change the corresponding part of the code.</p>
<p>Here is code to define data structure:</p>
<div class="sourceCode" id="cb487"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb487-1"><a href="appendixdata1.html#cb487-1" aria-hidden="true" tabindex="-1"></a><span class="co"># set a random number seed to </span></span>
<span id="cb487-2"><a href="appendixdata1.html#cb487-2" aria-hidden="true" tabindex="-1"></a><span class="co"># make the process repeatable</span></span>
<span id="cb487-3"><a href="appendixdata1.html#cb487-3" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">12345</span>)</span>
<span id="cb487-4"><a href="appendixdata1.html#cb487-4" aria-hidden="true" tabindex="-1"></a><span class="co"># define the number of observations</span></span>
<span id="cb487-5"><a href="appendixdata1.html#cb487-5" aria-hidden="true" tabindex="-1"></a>ncust <span class="ot">&lt;-</span> <span class="dv">1000</span></span>
<span id="cb487-6"><a href="appendixdata1.html#cb487-6" aria-hidden="true" tabindex="-1"></a><span class="co"># create a data frmae for simulated data</span></span>
<span id="cb487-7"><a href="appendixdata1.html#cb487-7" aria-hidden="true" tabindex="-1"></a>seg_dat <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">id =</span> <span class="fu">as.factor</span>(<span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span>ncust)))</span>
<span id="cb487-8"><a href="appendixdata1.html#cb487-8" aria-hidden="true" tabindex="-1"></a><span class="co"># assign the variable names</span></span>
<span id="cb487-9"><a href="appendixdata1.html#cb487-9" aria-hidden="true" tabindex="-1"></a>vars <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;age&quot;</span>, <span class="st">&quot;gender&quot;</span>, <span class="st">&quot;income&quot;</span>, <span class="st">&quot;house&quot;</span>, <span class="st">&quot;store_exp&quot;</span>, </span>
<span id="cb487-10"><a href="appendixdata1.html#cb487-10" aria-hidden="true" tabindex="-1"></a>    <span class="st">&quot;online_exp&quot;</span>, <span class="st">&quot;store_trans&quot;</span>, <span class="st">&quot;online_trans&quot;</span>)</span>
<span id="cb487-11"><a href="appendixdata1.html#cb487-11" aria-hidden="true" tabindex="-1"></a><span class="co"># assign distribution for each variable</span></span>
<span id="cb487-12"><a href="appendixdata1.html#cb487-12" aria-hidden="true" tabindex="-1"></a>vartype <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;norm&quot;</span>, <span class="st">&quot;binom&quot;</span>, <span class="st">&quot;norm&quot;</span>, <span class="st">&quot;binom&quot;</span>, <span class="st">&quot;norm&quot;</span>, <span class="st">&quot;norm&quot;</span>, </span>
<span id="cb487-13"><a href="appendixdata1.html#cb487-13" aria-hidden="true" tabindex="-1"></a>    <span class="st">&quot;pois&quot;</span>, <span class="st">&quot;pois&quot;</span>)</span>
<span id="cb487-14"><a href="appendixdata1.html#cb487-14" aria-hidden="true" tabindex="-1"></a><span class="co"># names of 4 segments</span></span>
<span id="cb487-15"><a href="appendixdata1.html#cb487-15" aria-hidden="true" tabindex="-1"></a>group_name <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;Price&quot;</span>, <span class="st">&quot;Conspicuous&quot;</span>, <span class="st">&quot;Quality&quot;</span>, <span class="st">&quot;Style&quot;</span>)</span>
<span id="cb487-16"><a href="appendixdata1.html#cb487-16" aria-hidden="true" tabindex="-1"></a><span class="co"># size of each segments</span></span>
<span id="cb487-17"><a href="appendixdata1.html#cb487-17" aria-hidden="true" tabindex="-1"></a>group_size <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">250</span>, <span class="dv">200</span>, <span class="dv">200</span>, <span class="dv">350</span>)</span></code></pre></div>
<p>The next step is to define variable distribution parameters. There are 4 segments of customers and 8 parameters. Different segments correspond to different parameters. Let’s store the parameters in a 4×8 matrix:</p>
<div class="sourceCode" id="cb488"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb488-1"><a href="appendixdata1.html#cb488-1" aria-hidden="true" tabindex="-1"></a><span class="co"># matrix for mean</span></span>
<span id="cb488-2"><a href="appendixdata1.html#cb488-2" aria-hidden="true" tabindex="-1"></a>mus <span class="ot">&lt;-</span> <span class="fu">matrix</span>( <span class="fu">c</span>(</span>
<span id="cb488-3"><a href="appendixdata1.html#cb488-3" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Price</span></span>
<span id="cb488-4"><a href="appendixdata1.html#cb488-4" aria-hidden="true" tabindex="-1"></a>  <span class="dv">60</span>, <span class="fl">0.5</span>, <span class="dv">120000</span>,<span class="fl">0.9</span>, <span class="dv">500</span>,<span class="dv">200</span>,<span class="dv">5</span>,<span class="dv">2</span>,</span>
<span id="cb488-5"><a href="appendixdata1.html#cb488-5" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Conspicuous</span></span>
<span id="cb488-6"><a href="appendixdata1.html#cb488-6" aria-hidden="true" tabindex="-1"></a>  <span class="dv">40</span>, <span class="fl">0.7</span>, <span class="dv">200000</span>,<span class="fl">0.9</span>, <span class="dv">5000</span>,<span class="dv">5000</span>,<span class="dv">10</span>,<span class="dv">10</span>,</span>
<span id="cb488-7"><a href="appendixdata1.html#cb488-7" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Quality</span></span>
<span id="cb488-8"><a href="appendixdata1.html#cb488-8" aria-hidden="true" tabindex="-1"></a>  <span class="dv">36</span>, <span class="fl">0.5</span>, <span class="dv">70000</span>, <span class="fl">0.4</span>, <span class="dv">300</span>, <span class="dv">2000</span>,<span class="dv">2</span>,<span class="dv">15</span>,</span>
<span id="cb488-9"><a href="appendixdata1.html#cb488-9" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Style</span></span>
<span id="cb488-10"><a href="appendixdata1.html#cb488-10" aria-hidden="true" tabindex="-1"></a>  <span class="dv">25</span>, <span class="fl">0.2</span>, <span class="dv">90000</span>, <span class="fl">0.2</span>, <span class="dv">200</span>, <span class="dv">2000</span>,<span class="dv">2</span>,<span class="dv">20</span>), </span>
<span id="cb488-11"><a href="appendixdata1.html#cb488-11" aria-hidden="true" tabindex="-1"></a>  <span class="at">ncol=</span><span class="fu">length</span>(vars), <span class="at">byrow=</span><span class="cn">TRUE</span>)</span></code></pre></div>
<div class="sourceCode" id="cb489"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb489-1"><a href="appendixdata1.html#cb489-1" aria-hidden="true" tabindex="-1"></a><span class="co"># matrix for variance</span></span>
<span id="cb489-2"><a href="appendixdata1.html#cb489-2" aria-hidden="true" tabindex="-1"></a>sds<span class="ot">&lt;-</span> <span class="fu">matrix</span>( <span class="fu">c</span>(</span>
<span id="cb489-3"><a href="appendixdata1.html#cb489-3" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Price</span></span>
<span id="cb489-4"><a href="appendixdata1.html#cb489-4" aria-hidden="true" tabindex="-1"></a>  <span class="dv">3</span>,<span class="cn">NA</span>,<span class="dv">8000</span>,<span class="cn">NA</span>,<span class="dv">100</span>,<span class="dv">50</span>,<span class="cn">NA</span>,<span class="cn">NA</span>,</span>
<span id="cb489-5"><a href="appendixdata1.html#cb489-5" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Conspicuous</span></span>
<span id="cb489-6"><a href="appendixdata1.html#cb489-6" aria-hidden="true" tabindex="-1"></a>  <span class="dv">5</span>,<span class="cn">NA</span>,<span class="dv">50000</span>,<span class="cn">NA</span>,<span class="dv">1000</span>,<span class="dv">1500</span>,<span class="cn">NA</span>,<span class="cn">NA</span>,</span>
<span id="cb489-7"><a href="appendixdata1.html#cb489-7" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Quality</span></span>
<span id="cb489-8"><a href="appendixdata1.html#cb489-8" aria-hidden="true" tabindex="-1"></a>  <span class="dv">7</span>,<span class="cn">NA</span>,<span class="dv">10000</span>,<span class="cn">NA</span>,<span class="dv">50</span>,<span class="dv">200</span>,<span class="cn">NA</span>,<span class="cn">NA</span>,</span>
<span id="cb489-9"><a href="appendixdata1.html#cb489-9" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Style</span></span>
<span id="cb489-10"><a href="appendixdata1.html#cb489-10" aria-hidden="true" tabindex="-1"></a>  <span class="dv">2</span>,<span class="cn">NA</span>,<span class="dv">5000</span>,<span class="cn">NA</span>,<span class="dv">10</span>,<span class="dv">500</span>,<span class="cn">NA</span>,<span class="cn">NA</span>), </span>
<span id="cb489-11"><a href="appendixdata1.html#cb489-11" aria-hidden="true" tabindex="-1"></a>  <span class="at">ncol=</span><span class="fu">length</span>(vars), <span class="at">byrow=</span><span class="cn">TRUE</span>)</span></code></pre></div>
<p>Now we are ready to simulate data using the parameters defined above:</p>
<div class="sourceCode" id="cb490"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb490-1"><a href="appendixdata1.html#cb490-1" aria-hidden="true" tabindex="-1"></a><span class="co"># simulate non-survey data</span></span>
<span id="cb490-2"><a href="appendixdata1.html#cb490-2" aria-hidden="true" tabindex="-1"></a>sim.dat <span class="ot">&lt;-</span> <span class="cn">NULL</span></span>
<span id="cb490-3"><a href="appendixdata1.html#cb490-3" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">2016</span>)</span>
<span id="cb490-4"><a href="appendixdata1.html#cb490-4" aria-hidden="true" tabindex="-1"></a><span class="co"># loop on customer segment (i)</span></span>
<span id="cb490-5"><a href="appendixdata1.html#cb490-5" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="fu">seq_along</span>(group_name)) {</span>
<span id="cb490-6"><a href="appendixdata1.html#cb490-6" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb490-7"><a href="appendixdata1.html#cb490-7" aria-hidden="true" tabindex="-1"></a>    <span class="co"># add this line in order to moniter the process</span></span>
<span id="cb490-8"><a href="appendixdata1.html#cb490-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">cat</span>(i, group_name[i], <span class="st">&quot;</span><span class="sc">\n</span><span class="st">&quot;</span>)</span>
<span id="cb490-9"><a href="appendixdata1.html#cb490-9" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb490-10"><a href="appendixdata1.html#cb490-10" aria-hidden="true" tabindex="-1"></a>    <span class="co"># create an empty matrix to store relevent data</span></span>
<span id="cb490-11"><a href="appendixdata1.html#cb490-11" aria-hidden="true" tabindex="-1"></a>    seg <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="fu">matrix</span>(<span class="cn">NA</span>, <span class="at">nrow =</span> group_size[i], </span>
<span id="cb490-12"><a href="appendixdata1.html#cb490-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">ncol =</span> <span class="fu">length</span>(vars)))</span>
<span id="cb490-13"><a href="appendixdata1.html#cb490-13" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb490-14"><a href="appendixdata1.html#cb490-14" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Simulate data within segment i</span></span>
<span id="cb490-15"><a href="appendixdata1.html#cb490-15" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> (j <span class="cf">in</span> <span class="fu">seq_along</span>(vars)) {</span>
<span id="cb490-16"><a href="appendixdata1.html#cb490-16" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb490-17"><a href="appendixdata1.html#cb490-17" aria-hidden="true" tabindex="-1"></a>        <span class="co"># loop on every variable (j)</span></span>
<span id="cb490-18"><a href="appendixdata1.html#cb490-18" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> (vartype[j] <span class="sc">==</span> <span class="st">&quot;norm&quot;</span>) {</span>
<span id="cb490-19"><a href="appendixdata1.html#cb490-19" aria-hidden="true" tabindex="-1"></a>            <span class="co"># simulate normal distribution</span></span>
<span id="cb490-20"><a href="appendixdata1.html#cb490-20" aria-hidden="true" tabindex="-1"></a>            seg[, j] <span class="ot">&lt;-</span> <span class="fu">rnorm</span>(group_size[i], <span class="at">mean =</span> mus[i, </span>
<span id="cb490-21"><a href="appendixdata1.html#cb490-21" aria-hidden="true" tabindex="-1"></a>                j], <span class="at">sd =</span> sds[i, j])</span>
<span id="cb490-22"><a href="appendixdata1.html#cb490-22" aria-hidden="true" tabindex="-1"></a>        } <span class="cf">else</span> <span class="cf">if</span> (vartype[j] <span class="sc">==</span> <span class="st">&quot;pois&quot;</span>) {</span>
<span id="cb490-23"><a href="appendixdata1.html#cb490-23" aria-hidden="true" tabindex="-1"></a>            <span class="co"># simulate poisson distribution</span></span>
<span id="cb490-24"><a href="appendixdata1.html#cb490-24" aria-hidden="true" tabindex="-1"></a>            seg[, j] <span class="ot">&lt;-</span> <span class="fu">rpois</span>(group_size[i], <span class="at">lambda =</span> mus[i, </span>
<span id="cb490-25"><a href="appendixdata1.html#cb490-25" aria-hidden="true" tabindex="-1"></a>                j])</span>
<span id="cb490-26"><a href="appendixdata1.html#cb490-26" aria-hidden="true" tabindex="-1"></a>        } <span class="cf">else</span> <span class="cf">if</span> (vartype[j] <span class="sc">==</span> <span class="st">&quot;binom&quot;</span>) {</span>
<span id="cb490-27"><a href="appendixdata1.html#cb490-27" aria-hidden="true" tabindex="-1"></a>            <span class="co"># simulate binomial distribution</span></span>
<span id="cb490-28"><a href="appendixdata1.html#cb490-28" aria-hidden="true" tabindex="-1"></a>            seg[, j] <span class="ot">&lt;-</span> <span class="fu">rbinom</span>(group_size[i], <span class="at">size =</span> <span class="dv">1</span>, </span>
<span id="cb490-29"><a href="appendixdata1.html#cb490-29" aria-hidden="true" tabindex="-1"></a>                <span class="at">prob =</span> mus[i, j])</span>
<span id="cb490-30"><a href="appendixdata1.html#cb490-30" aria-hidden="true" tabindex="-1"></a>        } <span class="cf">else</span> {</span>
<span id="cb490-31"><a href="appendixdata1.html#cb490-31" aria-hidden="true" tabindex="-1"></a>            <span class="co"># if the distribution name is not one of the above, stop</span></span>
<span id="cb490-32"><a href="appendixdata1.html#cb490-32" aria-hidden="true" tabindex="-1"></a>            <span class="co"># and return a message</span></span>
<span id="cb490-33"><a href="appendixdata1.html#cb490-33" aria-hidden="true" tabindex="-1"></a>            <span class="fu">stop</span>(<span class="st">&quot;Don&#39;t have type:&quot;</span>, vartype[j])</span>
<span id="cb490-34"><a href="appendixdata1.html#cb490-34" aria-hidden="true" tabindex="-1"></a>        }</span>
<span id="cb490-35"><a href="appendixdata1.html#cb490-35" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb490-36"><a href="appendixdata1.html#cb490-36" aria-hidden="true" tabindex="-1"></a>    sim.dat <span class="ot">&lt;-</span> <span class="fu">rbind</span>(sim.dat, seg)</span>
<span id="cb490-37"><a href="appendixdata1.html#cb490-37" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<p>Now let’s edit the data we just simulated a little by adding tags to 0/1 binomial variables:</p>
<div class="sourceCode" id="cb491"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb491-1"><a href="appendixdata1.html#cb491-1" aria-hidden="true" tabindex="-1"></a><span class="co"># assign variable names</span></span>
<span id="cb491-2"><a href="appendixdata1.html#cb491-2" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(sim.dat) <span class="ot">&lt;-</span> vars</span>
<span id="cb491-3"><a href="appendixdata1.html#cb491-3" aria-hidden="true" tabindex="-1"></a><span class="co"># assign factor levels to segment variable</span></span>
<span id="cb491-4"><a href="appendixdata1.html#cb491-4" aria-hidden="true" tabindex="-1"></a>sim.dat<span class="sc">$</span>segment <span class="ot">&lt;-</span> <span class="fu">factor</span>(<span class="fu">rep</span>(group_name, <span class="at">times =</span> group_size))</span>
<span id="cb491-5"><a href="appendixdata1.html#cb491-5" aria-hidden="true" tabindex="-1"></a><span class="co"># recode gender and house variable</span></span>
<span id="cb491-6"><a href="appendixdata1.html#cb491-6" aria-hidden="true" tabindex="-1"></a>sim.dat<span class="sc">$</span>gender <span class="ot">&lt;-</span> <span class="fu">factor</span>(sim.dat<span class="sc">$</span>gender, <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">&quot;Female&quot;</span>, </span>
<span id="cb491-7"><a href="appendixdata1.html#cb491-7" aria-hidden="true" tabindex="-1"></a>    <span class="st">&quot;Male&quot;</span>))</span>
<span id="cb491-8"><a href="appendixdata1.html#cb491-8" aria-hidden="true" tabindex="-1"></a>sim.dat<span class="sc">$</span>house <span class="ot">&lt;-</span> <span class="fu">factor</span>(sim.dat<span class="sc">$</span>house, <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">&quot;No&quot;</span>, </span>
<span id="cb491-9"><a href="appendixdata1.html#cb491-9" aria-hidden="true" tabindex="-1"></a>    <span class="st">&quot;Yes&quot;</span>))</span>
<span id="cb491-10"><a href="appendixdata1.html#cb491-10" aria-hidden="true" tabindex="-1"></a><span class="co"># store_trans and online_trans are at least 1</span></span>
<span id="cb491-11"><a href="appendixdata1.html#cb491-11" aria-hidden="true" tabindex="-1"></a>sim.dat<span class="sc">$</span>store_trans <span class="ot">&lt;-</span> sim.dat<span class="sc">$</span>store_trans <span class="sc">+</span> <span class="dv">1</span></span>
<span id="cb491-12"><a href="appendixdata1.html#cb491-12" aria-hidden="true" tabindex="-1"></a>sim.dat<span class="sc">$</span>online_trans <span class="ot">&lt;-</span> sim.dat<span class="sc">$</span>online_trans <span class="sc">+</span> <span class="dv">1</span></span>
<span id="cb491-13"><a href="appendixdata1.html#cb491-13" aria-hidden="true" tabindex="-1"></a><span class="co"># age is integer</span></span>
<span id="cb491-14"><a href="appendixdata1.html#cb491-14" aria-hidden="true" tabindex="-1"></a>sim.dat<span class="sc">$</span>age <span class="ot">&lt;-</span> <span class="fu">floor</span>(sim.dat<span class="sc">$</span>age)</span></code></pre></div>
<p>In the real world, the data always includes some noise such as missing, wrong imputation. So we will add some noise to the data:</p>
<div class="sourceCode" id="cb492"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb492-1"><a href="appendixdata1.html#cb492-1" aria-hidden="true" tabindex="-1"></a><span class="co"># add missing values</span></span>
<span id="cb492-2"><a href="appendixdata1.html#cb492-2" aria-hidden="true" tabindex="-1"></a>idxm <span class="ot">&lt;-</span> <span class="fu">as.logical</span>(<span class="fu">rbinom</span>(ncust, <span class="at">size =</span> <span class="dv">1</span>, <span class="at">prob =</span> sim.dat<span class="sc">$</span>age<span class="sc">/</span><span class="dv">200</span>))</span>
<span id="cb492-3"><a href="appendixdata1.html#cb492-3" aria-hidden="true" tabindex="-1"></a>sim.dat<span class="sc">$</span>income[idxm] <span class="ot">&lt;-</span> <span class="cn">NA</span></span>
<span id="cb492-4"><a href="appendixdata1.html#cb492-4" aria-hidden="true" tabindex="-1"></a><span class="co"># add wrong imputations and outliers</span></span>
<span id="cb492-5"><a href="appendixdata1.html#cb492-5" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">123</span>)</span>
<span id="cb492-6"><a href="appendixdata1.html#cb492-6" aria-hidden="true" tabindex="-1"></a>idx <span class="ot">&lt;-</span> <span class="fu">sample</span>(<span class="dv">1</span><span class="sc">:</span>ncust, <span class="dv">5</span>)</span>
<span id="cb492-7"><a href="appendixdata1.html#cb492-7" aria-hidden="true" tabindex="-1"></a>sim.dat<span class="sc">$</span>age[idx[<span class="dv">1</span>]] <span class="ot">&lt;-</span> <span class="dv">300</span></span>
<span id="cb492-8"><a href="appendixdata1.html#cb492-8" aria-hidden="true" tabindex="-1"></a>sim.dat<span class="sc">$</span>store_exp[idx[<span class="dv">2</span>]] <span class="ot">&lt;-</span> <span class="sc">-</span><span class="dv">500</span></span>
<span id="cb492-9"><a href="appendixdata1.html#cb492-9" aria-hidden="true" tabindex="-1"></a>sim.dat<span class="sc">$</span>store_exp[idx[<span class="dv">3</span><span class="sc">:</span><span class="dv">5</span>]] <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">50000</span>, <span class="dv">30000</span>, <span class="dv">30000</span>)</span></code></pre></div>
<p>So far we have created part of the data. You can check it using <code>summary(sim.dat)</code>. Next, we will move on to simulate survey data.</p>
<div class="sourceCode" id="cb493"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb493-1"><a href="appendixdata1.html#cb493-1" aria-hidden="true" tabindex="-1"></a><span class="co"># number of survey questions</span></span>
<span id="cb493-2"><a href="appendixdata1.html#cb493-2" aria-hidden="true" tabindex="-1"></a>nq <span class="ot">&lt;-</span> <span class="dv">10</span></span>
<span id="cb493-3"><a href="appendixdata1.html#cb493-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb493-4"><a href="appendixdata1.html#cb493-4" aria-hidden="true" tabindex="-1"></a><span class="co"># mean matrix for different segments </span></span>
<span id="cb493-5"><a href="appendixdata1.html#cb493-5" aria-hidden="true" tabindex="-1"></a>mus2 <span class="ot">&lt;-</span> <span class="fu">matrix</span>( <span class="fu">c</span>( <span class="dv">5</span>,<span class="dv">2</span>,<span class="dv">1</span>,<span class="dv">3</span>,<span class="dv">1</span>,<span class="dv">4</span>,<span class="dv">1</span>,<span class="dv">4</span>,<span class="dv">2</span>,<span class="dv">4</span>, <span class="co"># Price</span></span>
<span id="cb493-6"><a href="appendixdata1.html#cb493-6" aria-hidden="true" tabindex="-1"></a>  <span class="dv">1</span>,<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">4</span>,<span class="dv">4</span>,<span class="dv">4</span>,<span class="dv">4</span>,<span class="dv">1</span>,<span class="dv">4</span>,<span class="dv">2</span>, <span class="co"># Conspicuous</span></span>
<span id="cb493-7"><a href="appendixdata1.html#cb493-7" aria-hidden="true" tabindex="-1"></a>  <span class="dv">5</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">3</span>,<span class="dv">2</span>,<span class="dv">4</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">3</span>, <span class="co"># Quality</span></span>
<span id="cb493-8"><a href="appendixdata1.html#cb493-8" aria-hidden="true" tabindex="-1"></a>  <span class="dv">3</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">4</span>,<span class="dv">1</span>,<span class="dv">5</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">2</span>), <span class="co"># Style</span></span>
<span id="cb493-9"><a href="appendixdata1.html#cb493-9" aria-hidden="true" tabindex="-1"></a><span class="at">ncol=</span>nq, <span class="at">byrow=</span><span class="cn">TRUE</span>) </span>
<span id="cb493-10"><a href="appendixdata1.html#cb493-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb493-11"><a href="appendixdata1.html#cb493-11" aria-hidden="true" tabindex="-1"></a><span class="co"># assume the variance is 0.2 for all</span></span>
<span id="cb493-12"><a href="appendixdata1.html#cb493-12" aria-hidden="true" tabindex="-1"></a>sd2 <span class="ot">&lt;-</span> <span class="fl">0.2</span></span>
<span id="cb493-13"><a href="appendixdata1.html#cb493-13" aria-hidden="true" tabindex="-1"></a>sim.dat2 <span class="ot">&lt;-</span> <span class="cn">NULL</span></span>
<span id="cb493-14"><a href="appendixdata1.html#cb493-14" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">1000</span>)</span>
<span id="cb493-15"><a href="appendixdata1.html#cb493-15" aria-hidden="true" tabindex="-1"></a><span class="co"># loop for customer segment (i)</span></span>
<span id="cb493-16"><a href="appendixdata1.html#cb493-16" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="fu">seq_along</span>(group_name)) {</span>
<span id="cb493-17"><a href="appendixdata1.html#cb493-17" aria-hidden="true" tabindex="-1"></a>    <span class="co"># the following line is used for checking the</span></span>
<span id="cb493-18"><a href="appendixdata1.html#cb493-18" aria-hidden="true" tabindex="-1"></a>    <span class="co"># progress cat (i, group_name[i],&#39;\n&#39;) create an</span></span>
<span id="cb493-19"><a href="appendixdata1.html#cb493-19" aria-hidden="true" tabindex="-1"></a>    <span class="co"># empty data frame to store data</span></span>
<span id="cb493-20"><a href="appendixdata1.html#cb493-20" aria-hidden="true" tabindex="-1"></a>    seg <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="fu">matrix</span>(<span class="cn">NA</span>, <span class="at">nrow =</span> group_size[i], </span>
<span id="cb493-21"><a href="appendixdata1.html#cb493-21" aria-hidden="true" tabindex="-1"></a>        <span class="at">ncol =</span> nq))</span>
<span id="cb493-22"><a href="appendixdata1.html#cb493-22" aria-hidden="true" tabindex="-1"></a>    <span class="co"># simulate data within segment</span></span>
<span id="cb493-23"><a href="appendixdata1.html#cb493-23" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> (j <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span>nq) {</span>
<span id="cb493-24"><a href="appendixdata1.html#cb493-24" aria-hidden="true" tabindex="-1"></a>        <span class="co"># simulate normal distribution</span></span>
<span id="cb493-25"><a href="appendixdata1.html#cb493-25" aria-hidden="true" tabindex="-1"></a>        res <span class="ot">&lt;-</span> <span class="fu">rnorm</span>(group_size[i], <span class="at">mean =</span> mus2[i, </span>
<span id="cb493-26"><a href="appendixdata1.html#cb493-26" aria-hidden="true" tabindex="-1"></a>            j], <span class="at">sd =</span> sd2)</span>
<span id="cb493-27"><a href="appendixdata1.html#cb493-27" aria-hidden="true" tabindex="-1"></a>        <span class="co"># set upper and lower limit</span></span>
<span id="cb493-28"><a href="appendixdata1.html#cb493-28" aria-hidden="true" tabindex="-1"></a>        res[res <span class="sc">&gt;</span> <span class="dv">5</span>] <span class="ot">&lt;-</span> <span class="dv">5</span></span>
<span id="cb493-29"><a href="appendixdata1.html#cb493-29" aria-hidden="true" tabindex="-1"></a>        res[res <span class="sc">&lt;</span> <span class="dv">1</span>] <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb493-30"><a href="appendixdata1.html#cb493-30" aria-hidden="true" tabindex="-1"></a>        <span class="co"># convert continuous values to discrete integers</span></span>
<span id="cb493-31"><a href="appendixdata1.html#cb493-31" aria-hidden="true" tabindex="-1"></a>        seg[, j] <span class="ot">&lt;-</span> <span class="fu">floor</span>(res)</span>
<span id="cb493-32"><a href="appendixdata1.html#cb493-32" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb493-33"><a href="appendixdata1.html#cb493-33" aria-hidden="true" tabindex="-1"></a>    sim.dat2 <span class="ot">&lt;-</span> <span class="fu">rbind</span>(sim.dat2, seg)</span>
<span id="cb493-34"><a href="appendixdata1.html#cb493-34" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb493-35"><a href="appendixdata1.html#cb493-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb493-36"><a href="appendixdata1.html#cb493-36" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(sim.dat2) <span class="ot">&lt;-</span> <span class="fu">paste</span>(<span class="st">&quot;Q&quot;</span>, <span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>, <span class="at">sep =</span> <span class="st">&quot;&quot;</span>)</span>
<span id="cb493-37"><a href="appendixdata1.html#cb493-37" aria-hidden="true" tabindex="-1"></a>sim.dat <span class="ot">&lt;-</span> <span class="fu">cbind</span>(sim.dat, sim.dat2)</span>
<span id="cb493-38"><a href="appendixdata1.html#cb493-38" aria-hidden="true" tabindex="-1"></a>sim.dat<span class="sc">$</span>segment <span class="ot">&lt;-</span> <span class="fu">factor</span>(<span class="fu">rep</span>(group_name, <span class="at">times =</span> group_size))</span></code></pre></div>
<!--
## Customer Satisfaction Survey Data from Airline Company {#appendixdata2}

```r
# Create a matrix of factor loadings This pattern
# is called bifactor because it has a general
# factor for separate components.  For example,
# 'Ease of making reservation' has general factor
# loading 0.33, specific factor loading 0.58 The
# outcome variables are formed as combinations of
# these general and specific factors

loadings <- matrix(c ( 
  # Ticketing
  .33, .58, .00, .00,  # Ease of making reservation 
  .35, .55, .00, .00,  # Availability of preferred seats
  .30, .52, .00, .00,  # Variety of flight options
  .40, .50, .00, .00,  # Ticket prices
  # Aircraft
  .50, .00, .55, .00,  # Seat comfort
  .41, .00, .51, .00,  # Roominess of seat area
  .45, .00, .57, .00,  # Availability of Overhead
  .32, .00, .54, .00,  # Cleanliness of aircraft
  # Service
  .35, .00, .00, .50,  # Courtesy of flight attendant
  .38, .00, .00, .57,  # Friendliness
  .60, .00, .00, .50,  # Helpfulness
  .52, .00, .00, .58,  # Food and drinks
  # General   
  .43, .10, .30, .30,  # Overall satisfaction
  .35, .50, .40, .20,  # Purchase again
  .25, .50, .50, .20), # Willingness to recommend
  nrow=15,ncol=4, byrow=TRUE)

# Matrix multiplication produces the correlation
# matrix except for the diagonal
cor_matrix <- loadings %*% t(loadings)
# Diagonal set to ones
diag(cor_matrix) <- 1

# use the mvtnorm package to randomly generate a
# data set with a given correlation pattern

library(mvtnorm)
# mean vectors of the 3 airline companies
mu1 = c(5, 6, 5, 6, 7, 8, 6, 7, 5, 5, 5, 5, 6, 6, 6)
mu2 = c(3, 3, 2, 3, 5, 4, 5, 6, 8, 8, 8, 8, 3, 3, 3)
mu3 = c(2, 2, 2, 2, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8)

# set random seed
set.seed(123456)
# respondent ID
resp.id <- 1:1000

library(MASS)
rating1 <- mvrnorm(length(resp.id), mu = mu1, Sigma = cor_matrix)
rating2 <- mvrnorm(length(resp.id), mu = mu2, Sigma = cor_matrix)
rating3 <- mvrnorm(length(resp.id), mu = mu3, Sigma = cor_matrix)


# truncates scale to be between 1 and 9
rating1[rating1 > 9] <- 9
rating1[rating1 < 1] <- 1
rating2[rating2 > 9] <- 9
rating2[rating2 < 1] <- 1
rating3[rating3 > 9] <- 9
rating3[rating3 < 1] <- 1

# Round to single digit
rating1 <- data.frame(round(rating1, 0))
rating2 <- data.frame(round(rating2, 0))
rating3 <- data.frame(round(rating3, 0))
rating1$ID <- resp.id
rating2$ID <- resp.id
rating3$ID <- resp.id
rating1$Airline <- rep("AirlineCo.1", length(resp.id))
rating2$Airline <- rep("AirlineCo.2", length(resp.id))
rating3$Airline <- rep("AirlineCo.3", length(resp.id))
rating <- rbind(rating1, rating2, rating3)

# assign names to the variables in the data frame
names(rating) <- c("Easy_Reservation", "Preferred_Seats", 
    "Flight_Options", "Ticket_Prices", "Seat_Comfort", 
    "Seat_Roominess", "Overhead_Storage", "Clean_Aircraft", 
    "Courtesy", "Friendliness", "Helpfulness", "Service", 
    "Satisfaction", "Fly_Again", "Recommend", "ID", 
    "Airline")
```
-->
</div>
            </section>

          </div>
        </div>
      </div>
<a href="r-code-for-data-simulation.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="appendixdata3.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook/js/app.min.js"></script>
<script src="libs/gitbook/js/clipboard.min.js"></script>
<script src="libs/gitbook/js/plugin-search.js"></script>
<script src="libs/gitbook/js/plugin-sharing.js"></script>
<script src="libs/gitbook/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook/js/plugin-bookdown.js"></script>
<script src="libs/gitbook/js/jquery.highlight.js"></script>
<script src="libs/gitbook/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": true,
"facebook": true,
"twitter": true,
"linkedin": true,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/happyrabbit/IntroDataScience/19-Appendix.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["IDS.pdf", "IDS.epub", "IDS.mobi"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "section",
"scroll_highlight": true
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
