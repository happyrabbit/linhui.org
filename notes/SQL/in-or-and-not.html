<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>SQL for Data Science</title>
  <meta name="description" content="This is my notes on Unix">
  <meta name="generator" content="bookdown 0.4 and GitBook 2.6.7">

  <meta property="og:title" content="SQL for Data Science" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="This is my notes on Unix" />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="SQL for Data Science" />
  
  <meta name="twitter:description" content="This is my notes on Unix" />
  

<meta name="author" content="Hui Lin">


<meta name="date" content="2017-12-03">

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="where.html">
<link rel="next" href="sort.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />









<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>

<link rel="stylesheet" href="css/style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Statement</a></li>
<li class="chapter" data-level="1" data-path="getting-started.html"><a href="getting-started.html"><i class="fa fa-check"></i><b>1</b> Getting Started</a><ul>
<li class="chapter" data-level="1.1" data-path="what-is-sql.html"><a href="what-is-sql.html"><i class="fa fa-check"></i><b>1.1</b> What is SQL?</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="data-models-and-diagrams.html"><a href="data-models-and-diagrams.html"><i class="fa fa-check"></i><b>2</b> Data Models and Diagrams</a><ul>
<li class="chapter" data-level="2.1" data-path="think-before-code.html"><a href="think-before-code.html"><i class="fa fa-check"></i><b>2.1</b> Think Before Code</a></li>
<li class="chapter" data-level="2.2" data-path="what-is-data-model.html"><a href="what-is-data-model.html"><i class="fa fa-check"></i><b>2.2</b> What is Data Model?</a></li>
<li class="chapter" data-level="2.3" data-path="retrive-data-with-select.html"><a href="retrive-data-with-select.html"><i class="fa fa-check"></i><b>2.3</b> Retrive Data with <code>SELECT</code></a></li>
<li class="chapter" data-level="2.4" data-path="create-table.html"><a href="create-table.html"><i class="fa fa-check"></i><b>2.4</b> Create Table</a></li>
<li class="chapter" data-level="2.5" data-path="sql-comments.html"><a href="sql-comments.html"><i class="fa fa-check"></i><b>2.5</b> SQL Comments</a></li>
<li class="chapter" data-level="2.6" data-path="summary.html"><a href="summary.html"><i class="fa fa-check"></i><b>2.6</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="filter.html"><a href="filter.html"><i class="fa fa-check"></i><b>3</b> Filter</a><ul>
<li class="chapter" data-level="3.1" data-path="where.html"><a href="where.html"><i class="fa fa-check"></i><b>3.1</b> <code>WHERE</code></a></li>
<li class="chapter" data-level="3.2" data-path="in-or-and-not.html"><a href="in-or-and-not.html"><i class="fa fa-check"></i><b>3.2</b> <code>IN</code>, <code>OR</code> and <code>NOT</code></a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="sort.html"><a href="sort.html"><i class="fa fa-check"></i><b>4</b> Sort</a></li>
<li class="chapter" data-level="5" data-path="math-operations.html"><a href="math-operations.html"><i class="fa fa-check"></i><b>5</b> Math Operations</a></li>
<li class="chapter" data-level="6" data-path="aggregrate-functions.html"><a href="aggregrate-functions.html"><i class="fa fa-check"></i><b>6</b> Aggregrate Functions</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">SQL for Data Science</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="in-or-and-not" class="section level2">
<h2><span class="header-section-number">3.2</span> <code>IN</code>, <code>OR</code> and <code>NOT</code></h2>
<p><strong>Learning Objectives</strong></p>
<ul>
<li>Use the <code>IN</code> and <code>OR</code> operators to filter your data and get results you want</li>
<li>Differentiate between use of the <code>IN</code> and <code>BETWEEN</code> operators</li>
<li>Discuss importance of order of operations</li>
<li>Explain how and when to use the <code>NOT</code> operator</li>
</ul>
<p>Let’s start from<code>IN</code>. To use the IN operator, we need to specify a range of conditions or a set of values.</p>
<div class="sourceCode"><pre class="sourceCode sql"><code class="sourceCode sql"><span class="kw">SELECT</span>
ProductID,
UnitPrice,
SupplierID,
<span class="kw">FROM</span> Products
<span class="kw">WHERE</span> SupplierID <span class="kw">IN</span> (<span class="dv">9</span>, <span class="dv">10</span>, <span class="dv">11</span>);</code></pre></div>
<p>Another operator is the <code>OR</code> operator. An important thing to know about this is that a database management system will not evaluate the second condition in a <code>WHERE</code> clause if the first condition is met.</p>
<div class="sourceCode"><pre class="sourceCode sql"><code class="sourceCode sql"><span class="kw">SELECT</span>
ProductName,
ProductID,
UnitPrice,
SupplierID,
ProductName
<span class="kw">FROM</span> Products
<span class="kw">WHERE</span> ProductName = <span class="st">&#39;Tofu&#39;</span> <span class="kw">OR</span> <span class="st">&#39;Konbu&#39;</span>;</code></pre></div>
<p>You can use <code>OR</code> with <code>AND</code>. There is somthing you need to pay extra attention. Look at the following two examples:</p>
<ul>
<li>Example1:</li>
</ul>
<div class="sourceCode"><pre class="sourceCode sql"><code class="sourceCode sql"><span class="kw">SELECT</span>
ProductID,
UnitPrice,
SupplierID,
<span class="kw">FROM</span> Products
<span class="kw">WHERE</span> SupplierID = <span class="dv">9</span> <span class="kw">OR</span>
SupplierID = <span class="dv">11</span>
<span class="kw">AND</span> UnitPrice &gt; <span class="dv">15</span>;</code></pre></div>
<div class="figure">
<img src="images/ex1.png" style="width:40.0%" />

</div>
<ul>
<li>Example2:</li>
</ul>
<div class="sourceCode"><pre class="sourceCode sql"><code class="sourceCode sql"><span class="kw">SELECT</span>
ProductID,
UnitPrice,
SupplierID
<span class="kw">FROM</span> Products
<span class="kw">WHERE</span> (SupplierID = <span class="dv">9</span> <span class="kw">OR</span>
SupplierID = <span class="dv">11</span>)
<span class="kw">AND</span> UnitPrice &gt; <span class="dv">15</span>;</code></pre></div>
<div class="figure">
<img src="images/ex2.png" style="width:40.0%" />

</div>
<p>Since SQL processes the <code>OR</code> before the <code>AND</code>, in example1, SQL will stop after processing <code>OR</code>, so it won’t even get to the operation after <code>AND</code>. In order to solve that, you need to use parentheses.</p>
<p>Even you don’t have to use a parenthesis, but it’s always really recommended. This way you’re not relying on the default order of operations.</p>
<p>You can use <code>NOT</code> to get the supplementary part:</p>
<div class="sourceCode"><pre class="sourceCode sql"><code class="sourceCode sql"><span class="kw">SELECT</span> *
<span class="kw">FROM</span> Employees
<span class="kw">WHERE</span> <span class="kw">NOT</span> City=<span class="st">&#39;London&#39;</span> <span class="kw">AND</span>
<span class="kw">NOT</span> City=<span class="st">&#39;Seattle&#39;</span>;</code></pre></div>
<p><strong>Wildcards</strong></p>
<p>Have you ever come across data where you knew either the beginning or end of something, but didn’t know the rest of it? Or maybe you know that something is like something else, but slightly different. In the rest of this section, we are going to discuss the use of the wildcards and the <code>LIKE</code> operator. You will learn the concept of wildcards, including their advantages and disadvantages.</p>
<p>Wildcard is a really powerful especially for string values or text data. A wildcard is a special character used to match parts of a value. You search for a pattern of string. <code>LIKE</code> works for both string and numerical variables. But wildcards cannot be used for numerical data.</p>
<p><strong><code>%</code> Wildcards</strong></p>
<table>
<thead>
<tr class="header">
<th>Wildcard</th>
<th>Action</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>%carrot</code></td>
<td>Grab anything ending with the word <code>carrot</code></td>
</tr>
<tr class="even">
<td><code>carrot%</code></td>
<td>Grab anything after the word <code>carrot</code></td>
</tr>
<tr class="odd">
<td><code>%carrot%</code></td>
<td>Grab anything containing the word <code>carrot</code></td>
</tr>
<tr class="even">
<td><code>today%happy</code></td>
<td>Grab anything that starts with <code>today</code> and ends with <code>happy</code></td>
</tr>
<tr class="odd">
<td><code>t%@gmail.com</code></td>
<td>Grab gmail address that start with <code>t</code></td>
</tr>
</tbody>
</table>
<p>Underscore(<code>_</code>) wildcard matches a single character but it is not supported by DB2.</p>
<div class="sourceCode"><pre class="sourceCode sql"><code class="sourceCode sql"><span class="kw">WHERE</span> <span class="kw">size</span> <span class="kw">LIKE</span> `_carrot`</code></pre></div>
<p>Output:</p>
<pre class="pre"><code>lcarrot
mcarrot
scarrot</code></pre>
<p>It is identical with:</p>
<div class="sourceCode"><pre class="sourceCode sql"><code class="sourceCode sql"><span class="kw">WHERE</span> <span class="kw">size</span> <span class="kw">LIKE</span> `%carrot`</code></pre></div>
<p>Bracket (<code>[]</code>) wildcard specifies a set of characters in a specific location. It does not work with all DBMS. It does not work with SQLite.</p>
<p>There are some downsides to using wildcards:</p>
<ul>
<li>Takes longer to run</li>
<li>Better to use another operator (if possible) <code>=</code>,<code>&lt;</code>,<code>&gt;=</code> etc.</li>
<li>Depending on the system</li>
<li>Hard to read</li>
</ul>

</div>
<!-- </div> -->
            </section>

          </div>
        </div>
      </div>
<a href="where.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="sort.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": true,
"facebook": true,
"twitter": true,
"google": false,
"weibo": false,
"instapper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": null,
"download": ["SQL.pdf", "SQL.epub", "SQL.mobi"],
"toc": {
"collapse": "subsection",
"scroll_highlight": true
},
"toolbar": {
"position": "fixed"
},
"search": true
});
});
</script>

</body>

</html>
