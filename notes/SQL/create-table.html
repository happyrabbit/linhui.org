<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>SQL for Data Science</title>
  <meta name="description" content="This is my notes on Unix">
  <meta name="generator" content="bookdown 0.4 and GitBook 2.6.7">

  <meta property="og:title" content="SQL for Data Science" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="This is my notes on Unix" />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="SQL for Data Science" />
  
  <meta name="twitter:description" content="This is my notes on Unix" />
  

<meta name="author" content="Hui Lin">


<meta name="date" content="2018-01-26">

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="retrive-data-with-select.html">
<link rel="next" href="sql-comments.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />









<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>

<link rel="stylesheet" href="css/style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Statement</a></li>
<li class="chapter" data-level="1" data-path="getting-started.html"><a href="getting-started.html"><i class="fa fa-check"></i><b>1</b> Getting Started</a><ul>
<li class="chapter" data-level="1.1" data-path="what-is-sql.html"><a href="what-is-sql.html"><i class="fa fa-check"></i><b>1.1</b> What is SQL?</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="data-models-and-diagrams.html"><a href="data-models-and-diagrams.html"><i class="fa fa-check"></i><b>2</b> Data Models and Diagrams</a><ul>
<li class="chapter" data-level="2.1" data-path="think-before-code.html"><a href="think-before-code.html"><i class="fa fa-check"></i><b>2.1</b> Think Before Code</a></li>
<li class="chapter" data-level="2.2" data-path="what-is-data-model.html"><a href="what-is-data-model.html"><i class="fa fa-check"></i><b>2.2</b> What is Data Model?</a></li>
<li class="chapter" data-level="2.3" data-path="retrive-data-with-select.html"><a href="retrive-data-with-select.html"><i class="fa fa-check"></i><b>2.3</b> Retrive Data with <code>SELECT</code></a></li>
<li class="chapter" data-level="2.4" data-path="create-table.html"><a href="create-table.html"><i class="fa fa-check"></i><b>2.4</b> Create Table</a></li>
<li class="chapter" data-level="2.5" data-path="sql-comments.html"><a href="sql-comments.html"><i class="fa fa-check"></i><b>2.5</b> SQL Comments</a></li>
<li class="chapter" data-level="2.6" data-path="summary.html"><a href="summary.html"><i class="fa fa-check"></i><b>2.6</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="filtering-sorting-and-calculating-data-with-sql.html"><a href="filtering-sorting-and-calculating-data-with-sql.html"><i class="fa fa-check"></i><b>3</b> Filtering, Sorting, and Calculating Data with SQL</a><ul>
<li class="chapter" data-level="3.1" data-path="filter.html"><a href="filter.html"><i class="fa fa-check"></i><b>3.1</b> Filter</a><ul>
<li class="chapter" data-level="3.1.1" data-path="filter.html"><a href="filter.html#where"><i class="fa fa-check"></i><b>3.1.1</b> <code>WHERE</code></a></li>
<li class="chapter" data-level="3.1.2" data-path="filter.html"><a href="filter.html#in-or-and-not"><i class="fa fa-check"></i><b>3.1.2</b> <code>IN</code>, <code>OR</code> and <code>NOT</code></a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="sort.html"><a href="sort.html"><i class="fa fa-check"></i><b>3.2</b> Sort</a></li>
<li class="chapter" data-level="3.3" data-path="math-operations.html"><a href="math-operations.html"><i class="fa fa-check"></i><b>3.3</b> Math Operations</a></li>
<li class="chapter" data-level="3.4" data-path="aggregrate-functions.html"><a href="aggregrate-functions.html"><i class="fa fa-check"></i><b>3.4</b> Aggregrate Functions</a></li>
<li class="chapter" data-level="3.5" data-path="group-data.html"><a href="group-data.html"><i class="fa fa-check"></i><b>3.5</b> Group Data</a></li>
<li class="chapter" data-level="3.6" data-path="summary-1.html"><a href="summary-1.html"><i class="fa fa-check"></i><b>3.6</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="subqueries-and-joins.html"><a href="subqueries-and-joins.html"><i class="fa fa-check"></i><b>4</b> Subqueries and Joins</a><ul>
<li class="chapter" data-level="4.1" data-path="subqueries.html"><a href="subqueries.html"><i class="fa fa-check"></i><b>4.1</b> Subqueries</a></li>
<li class="chapter" data-level="4.2" data-path="joins.html"><a href="joins.html"><i class="fa fa-check"></i><b>4.2</b> Joins</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="modifying-and-analyzing-data-with-sql.html"><a href="modifying-and-analyzing-data-with-sql.html"><i class="fa fa-check"></i><b>5</b> Modifying and Analyzing Data with SQL</a><ul>
<li class="chapter" data-level="5.1" data-path="text-strings.html"><a href="text-strings.html"><i class="fa fa-check"></i><b>5.1</b> Text Strings</a></li>
<li class="chapter" data-level="5.2" data-path="date-and-time-strings.html"><a href="date-and-time-strings.html"><i class="fa fa-check"></i><b>5.2</b> Date and Time Strings</a></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">SQL for Data Science</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="create-table" class="section level2">
<h2><span class="header-section-number">2.4</span> Create Table</h2>
<p>As a data scientist, you are always building models and making predictions. You may want to take those predictions that you create and write them back to a database. This ensures that someone else could then pick up those predictions and use them in a dashboard. Or you may want to create a dashboard or visualize it with another tool that can be hooked up and used with that database. It’s also helpful if you’re extracting data off the web or scraping it from somewhere and you want to store this data in a database. As we have previously discussed, the data scientist isn’t usually the one in charge of managing the entire database, that usually left to the DBA or some type of administrator. Even so, it’s helpful to have a basic understanding of how this works. You can use the statement <code>CREATE TABLE</code> to do this.</p>
<div class="sourceCode"><pre class="sourceCode sql"><code class="sourceCode sql"><span class="kw">CREATE</span> <span class="kw">TABLE</span> Shoes
(
<span class="kw">Id</span>     <span class="dt">char</span>(<span class="dv">10</span>)     <span class="kw">PRIMARY</span> <span class="kw">KEY</span>,
Brand  <span class="dt">char</span>(<span class="dv">10</span>)     <span class="kw">NOT</span> <span class="kw">NULL</span>,
ShoeTypes  <span class="dt">char</span>(<span class="dv">250</span>)    <span class="kw">NOT</span> <span class="kw">NULL</span>,
Color  <span class="dt">char</span>(<span class="dv">250</span>)    <span class="kw">NOT</span> <span class="kw">NULL</span>,
Price  <span class="dt">decimal</span>(<span class="dv">8</span>,<span class="dv">2</span>) <span class="kw">NOT</span> <span class="kw">NULL</span>,
Descp  <span class="dt">Varchar</span>(<span class="dv">750</span>) <span class="kw">NULL</span>
);</code></pre></div>
<p>In the above example, you create a table named “<code>Shoes</code>” by putting the name after <code>CREATE TABLE</code>. Then define the list of columns in the brackets. The first column is <code>Id</code>. It is a character with lenth 10. And the <code>Id</code> is going to be primary key. So you define data type (how many characters or decimals you allow to be inserted into this column), whether or not you allow null values. By default, it assumes that null values are accepted.</p>
<p>The syntax for creating these tables varies greatly by relational database management system that you’re using. The above example exhibits the basic structure to create a table. However, it’s important to check the specifications and syntax of the relational database management system you’re using. An important thing to note when creating a table is to define whether a column can contain a null value or is a primary key. There are several things to pay special attention here:</p>
<ol style="list-style-type: decimal">
<li>Don’t confuse null value with empty string. Null value is the absence of everything, whereas empty string is a value there, such as space.</li>
<li>A primary key cannot accept null values. The <code>Id</code> in the example can never have an empty value or not any value.</li>
<li>If you indicate that a column cannot be null, then you will get an error if there is any missing value in that column.</li>
</ol>
<p>There are two ways to incert data to the table after defining the variables:</p>
<ol style="list-style-type: decimal">
<li>Use <code>INSERT INTO</code> statement</li>
</ol>
<div class="sourceCode"><pre class="sourceCode sql"><code class="sourceCode sql"><span class="kw">INSERT</span> <span class="kw">INTO</span> Shoes
<span class="kw">VALUES</span> ( <span class="st">&#39;14535974&#39;</span>,
<span class="st">&#39;Gucci&#39;</span>,
<span class="st">&#39;Slippers&#39;</span>,
<span class="st">&#39;Pink&#39;</span>,
<span class="st">&#39;695.00&#39;</span>,
<span class="kw">NULL</span>
);</code></pre></div>
<p>The first method will take the first value indicated and put it in the first column; the second value will go to the second column, and so on and so forth. It works. However, a potential problem of this method is that you have no guarantee that data is going into the correct column. It is better to be more specific.</p>
<ol start="2" style="list-style-type: decimal">
<li>Use <code>INSERT INTO</code> and <code>VALUES</code></li>
</ol>
<div class="sourceCode"><pre class="sourceCode sql"><code class="sourceCode sql"><span class="kw">INSERT</span> <span class="kw">INTO</span> Shoes
(<span class="kw">Id</span>, 
Brand,
ShoeTypes,
Color,
Price,
Descp
)
<span class="kw">VALUES</span> 
( 
<span class="st">&#39;14535974&#39;</span>,
<span class="st">&#39;Gucci&#39;</span>,
<span class="st">&#39;Slippers&#39;</span>,
<span class="st">&#39;Pink&#39;</span>,
<span class="st">&#39;695.00&#39;</span>,
<span class="kw">NULL</span>
);</code></pre></div>
<p>The second method also lists the columns. This can be really beneficial if you want to insert values into some columns but not all. I will recommend using this method. It’s a little safer because you have more control and know exactly which value is going and into which column.</p>
<p>Now you have learned how to create tables using SQL. Another option is to create a copy or get a subset of an existing table. A table created this way is a <strong>temporary table</strong>. The most important thing to know about temporary tables is that they will be deleted when the current client session is terminated. That’s why they’re called temporary tables. Why do we need temporary table? Because it is mush faster than creating a real table. If you have complex queries and you want to simplify it a bit by creating a subset and then joining to that subset and driving a new calculation from that, then temporary table is a great option. You can use the statement <code>CREATE TEMPORARY TABLE</code> to do this:</p>
<div class="sourceCode"><pre class="sourceCode sql"><code class="sourceCode sql"><span class="kw">CREATE</span> <span class="kw">TEMPORARY</span> <span class="kw">TABLE</span> Sandals <span class="kw">AS</span>
(
<span class="kw">SELECT</span> *
<span class="kw">FROM</span> Shoes
<span class="kw">WHERE</span> ShoeTypes = <span class="st">&#39;sandals&#39;</span>
)</code></pre></div>
<p>In this case, we create a subset of data from <code>Shoes</code> table and name the new table <code>Sandals</code>. The new table is all records with shoe type sandals.</p>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="retrive-data-with-select.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="sql-comments.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": true,
"facebook": true,
"twitter": true,
"google": false,
"weibo": false,
"instapper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": null,
"download": ["SQL.pdf", "SQL.epub", "SQL.mobi"],
"toc": {
"collapse": "subsection",
"scroll_highlight": true
},
"toolbar": {
"position": "fixed"
},
"search": true
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://cdn.bootcss.com/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:" && /^https?:/.test(script.src))
      script.src  = script.src.replace(/^https?:/, '');
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
